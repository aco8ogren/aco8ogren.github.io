<!-- 
/*
* @Author: alex
* @Date: 2025-08-22 15:34:48
 * @Last Modified by: alex
 * @Last Modified time: 2025-09-15 22:40:31
*/
 -->
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alex Ogren</title>
  <link rel="stylesheet" href="./style/style.css">
</head>

<body>
  <!-- Template for example text -->
  <template id="repeated-text">
    <div class="copy">
      <div class="text">
        <p>Here are some words that you may want to read.</p>
        <p>You also may not want to read them.</p>
        <p>But by now you've already read them.</p>
        <p style="color:#af2ea9">(<span data-idx></span> out of <span data-total></span>)</p>
      </div>
      <div class="spacer"></div>
    </div>
  </template>

  <!-- Horizontal strip with three pages -->
  <div id="page-strip">

    <!-- ========== PAGE 1 ========== -->
    <section class="page" id="page-1">
      <div class="page-shell">
        <header class="header">
          <div class="center-horizontally">
            <h1>Alex Ogren</h1>
            <nav class="nav-row">
              <a href="https://www.github.com/aco8ogren" target="_blank" rel="noopener noreferrer" class="nav-link">
                <svg class="icon">
                  <use href="#icon-github"></use>
                </svg>
                GitHub
              </a>
              <a href="#page-2" class="nav-link">CV</a>
              <!-- <a href="https://scholar.google.com/citations?user=nCxgagUAAAAJ&hl=en&oi=ao" target="_blank"
                rel="noopener noreferrer" class="nav-link">
                <svg class="icon">
                  <use href="#icon-google-scholar"></use>
                </svg>
                Google Scholar
              </a> -->
              <a href="#page-2" class="nav-link next">next →</a>
            </nav>
          </div>
        </header>


        <div class="page-body scroller edge-fade-x" id="pbs1" data-camera-scroll-source>
          <div class="container" style="display: flex; justify-content: center;">
            <img src="./graphics/rollerblading_new.png" style="width: 88%">
          </div>

          <p style="text-align: justify">I'm a math-minded engineer who enjoys building things - both abstract and real.
            I'm motivated by weaving together concepts from different fields to produce novel, impactful solutions to
            real-world problems.
            On this site you will find information about my talents, projects, education, interests, and more.</p>
          <div class="spacer"></div>
        </div>
      </div>
    </section>

    <!-- ========== PAGE 2 ========== -->
    <section class="page" id="page-2">
      <div class="page-shell">
        <header class="header">
          <div class="center-horizontally">
            <h1>CV</h1>
            <nav class="nav-row">
              <!-- middle page -->
              <a href="#page-1" class="nav-link prev">← prev</a>
              <a href="#page-3" class="nav-link next">next →</a>
            </nav>
          </div>
        </header>

        <div class="page-body scroller edge-fade-x" id="pbs2" data-camera-scroll-source>
          <div class="resume" id="resume">
            <header class="resume-header">
              <h2>Alex Ogren</h2>
            </header>

            <section>
              <h3>Education</h3>

              <p class="entry">
                <strong class="organization">
                  <span class="only-desktop">California Institute of Technology</span>
                  <span class="only-mobile">Caltech</span>
                </strong>
                <span class="location only-desktop">Pasadena, California</span>
                <span class="location only-mobile">Pasadena, CA</span>
                <span class="position">Ph.D. Mechanical Engineering</span>
                <time datetime="2024-05" class="date-range">May 2024</time>
              </p>

              <p class="entry">
                <strong class="organization">
                  <span class="only-desktop">University of Wisconsin–Madison</span>
                  <span class="only-mobile">UW – Madison</span>
                </strong>
                <span class="location only-desktop">Madison, Wisconsin</span>
                <span class="location only-mobile">Madison, WI</span>
                <!-- <span class="position">BS Engineering Mechanics<span class="only-desktop">; </span><br class="only-mobile">BS Mathematics</span> -->
                <span class="position">B.S. Engineering Mechanics<br>B.S. Mathematics</span>
                <time datetime="2024-05" class="date-range">May 2018</time>
              </p>
            </section>


            <section>

              <h3>Experience</h3>

              <p class="entry">
                <strong class="organization">
                  <span class="only-desktop">California Institute of Technology</span>
                  <span class="only-mobile">Caltech</span>
                </strong>
                <span class="location only-desktop">Pasadena, California</span>
                <span class="location only-mobile">Pasadena, CA</span>
                <span class="position only-desktop">Post-doctoral Scholar</span>
                <span class="position only-mobile">Post-doc</span>
                <span class="date-range">
                  <time datetime="2024-05">May</time> – <time datetime="2024-12">Dec 2024</time>
                </span>
              </p>

              <p class="entry">
                <strong class="organization">
                  <span class="only-desktop">Meta Reality Labs</span>
                  <span class="only-mobile">Meta</span>
                </strong>
                <span class="location only-desktop">Redmond, Washington</span>
                <span class="location only-mobile">Redmond, WA</span>
                <span class="position only-desktop">Research Engineer Intern</span>
                <span class="position only-mobile">Research Intern</span>
                <span class="date-range">
                  <time datetime="2022-05">May</time> – <time datetime="2022-09">Sept 2022</time>
                </span>
              </p>

              <p class="entry">
                <strong class="organization">
                  <span class="only-desktop">ATA Engineering</span>
                  <span class="only-mobile">ATA</span>
                </strong>
                <span class="location only-desktop">San Diego, California</span>
                <span class="location only-mobile">San Diego, CA</span>
                <span class="position only-desktop">Graduate Engineer Intern</span>
                <span class="position only-mobile">Graduate Intern</span>
                <span class="date-range">
                  <time datetime="2018-05">May</time> – <time datetime="2018-09">Sept 2018</time>
                </span>
              </p>

              <p class="entry">
                <strong class="organization">
                  <span class="only-desktop">University of Wisconsin – Madison</span>
                  <span class="only-mobile">UW – Madison</span>
                </strong>
                <span class="location only-desktop">Madison, Wisconsin</span>
                <span class="location only-mobile">Madison, WI</span>
                <span class="position only-desktop">Undergraduate Researcher</span>
                <span class="position only-mobile">Undergrad Researcher</span>
                <span class="date-range">
                  <time datetime="2017-08">Aug 2017</time> – <time datetime="2018-05">May 2018</time>
                </span>
              </p>

              <p class="entry">
                <strong class="organization">
                  <span>CommScope</span>
                </strong>
                <span class="location only-desktop">Shakopee, Minnesota</span>
                <span class="location only-mobile">Shakopee, MN</span>
                <span class="position only-desktop">Undergraduate Engineer Intern</span>
                <span class="position only-mobile">Undergraduate Intern</span>
                <span class="date-range">
                  <time datetime="2017-05">May</time> – <time datetime="2017-08">Aug 2017</time>
                </span>
              </p>

            </section>

            <section>
              <h3>Proficiencies</h3>
              <p class="entry">
                <span class="organization">Coding languages</span>
                <span class="position">
                  Matlab,
                  Python,
                  Maple,
                  Visual Basic,
                  JavaScript,
                  HTML,
                  CSS
                </span>
              </p>
              <p class="entry">
                <span class="organization">Machine learning, inference, and optimization</span>
                <span class="position">
                  Gaussian processes,
                  convolutional neural networks,
                  fitting physics-based models to observed data to perform inference
                </span>
              </p>

              <p class="entry">
                <span class="organization">Finite element analysis (code written by me)</span>
                <span class="position">
                  <a href="https://github.com/aco8ogren/2D-dispersion">2D-dispersion</a>,
                  <a href="https://github.com/aco8ogren/3D-dispersion-matlab">3D-dispersion</a>,
                  <a href="https://github.com/aco8ogren/tissue-dispersion">tissue-dispersion</a>
                </span>
              </p>

              <p class="entry">
                <span class="organization">Finite element analysis (commercial software)</span>
                <span class="position">
                  COMSOL Multiphysics,
                  NX Nastran,
                  Abaqus,
                  ANSYS
                </span>
              </p>

              <p class="entry">
                <span class="organization">3D modeling</span>
                <span class="position">
                  Solidworks,
                  Siemens NX,
                  Autodesk AutoCAD
                </span>
              </p>

              <p class="entry">
                <span class="organization">Git</span>
              </p>

              <p class="entry">
                <span class="organization">Spanish</span>
              </p>
            </section>

            <section>
              <h3>Publications</h3>

              <details class="filters" id="filters">
                <summary class="summary">
                  <span>filters</span>
                  <button id="pub-clear" type="button" class="keyword clear-filters" aria-label="Clear all filters">
                    clear all filters
                  </button>
                </summary>

                <div class="filters-panel">
                  <div class="filter-container">

                    <!-- Controls -->
                    <div class="nav-row" style="gap:.5rem; align-items:center">
                      <input id="pub-search" type="search" placeholder="Search title, authors, journal…"
                        style="min-width:18ch;flex:1 1 280px">
                      <select id="pub-sort">
                        <option value="default">default</option>
                        <option value="date-desc">date</option>
                        <option value="title-asc">title</option>
                      </select>
                      <label style="display:inline-flex;gap:.4rem;align-items:center">
                        <input type="checkbox" id="pub-rev"> reverse
                      </label>
                    </div>
                    <!-- keywords -->
                    <div class="kw-sec-label">keywords</div>
                    <div class="nav-row pub-keyword-bar" id="pub-kwbar"></div>

                    <div class="kw-ops" id="kw-ops">
                      <div class="kw-sec-label">keyword operator</div>
                      <div class="ops-group" role="group" aria-label="keyword operator">
                        <button type="button" class="keyword op-toggle" id="kw-op-and" aria-pressed="false">and</button>
                        <button type="button" class="keyword op-toggle" id="kw-op-or" aria-pressed="true">or</button>
                      </div>
                    </div>
                  </div>
                </div>
              </details>



              <div class="kw-summary" id="kw-summary"></div>



              <!-- Target for publication cards -->
              <section class="pubs" id="publications-list"></section>

              <!-- Publication card template -->
              <template id="pub-card-tpl">
                <article class="pub-card">
                  <div class="pub-row-1">
                    <span class="pub-simple-title"></span>
                  </div>
                  <div class="pub-row-2">
                    <a class="pub-thumbnail" href="#" aria-label="">
                      <img src="graphics/thumbnails/coconut_flask.svg" alt="">
                    </a>
                    <h5 class="pub-full-title"><a href="#"></a></h5>
                    <span class="pub-journal pub-journal-full only-desktop"></span>
                    <span class="pub-journal pub-journal-short only-mobile"></span>
                    <div class="pub-keywords" hidden></div>
                    <p class="pub-authors"></p>
                  </div>
                </article>
              </template>
            </section>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== PAGE 3 ========== -->
    <section class="page" id="page-3">
      <div class="page-shell">
        <header class="header">
          <div class="center-horizontally">
            <h1>Falling leaves</h1>
            <nav class="nav-row">
              <!-- last page -->
              <a href="#page-2" class="nav-link prev">← prev</a>
            </nav>
          </div>
        </header>

        <div class="page-body scroller edge-fade-x" id="pbs3" data-camera-scroll-source>
          <h3>
            These leaves are simulated in real time to follow real physics!
          </h3>
          <p>The leaves in the background are a physics-based simulation that I built as a fun way to introduce myself
            to JavaScript.
            Falling leaves are also a really cool natural example of something seemingly simple that has a lot of really
            interesting math baked in - and they bring a beautiful ambience to the site!
            After all, who doesn't love to watch autumn leaves react to otherwise unseen air currents as they fall?</p>
          <div class="nav-row">
            <div class="nav-link">leaf landscape (pure ambience)</div>
            <div class="nav-link">leaf lab (engaging and informative)</div>
          </div>

          <!-- ========== WHAT YOU'RE SEEING ========== -->
          <section class="copy">
            <div class="text">
              <h2>What you’re seeing</h2>
              <p>Each leaf is a tiny, thin disk drifting through a wind field. The wind is a calm background breeze with
                short-lived swirls layered on top. Leaves fade out once they wander out-of-bounds, and new ones
                spawn in to keep the vibe going.</p>
            </div>
            
          </section>

          <!-- ========== SYMBOLS LEGEND (MATH) ========== -->
          <details class="filters mj" id="legend-mj">
            <summary class="summary"><span>Show the math: symbols I use</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>Air density \( \rho\), leaf area \(A = \pi R^2\), center-of-pressure offset \(a_{\mathrm{CoP}}R\).
                </p>
                <p>Leaf world state: position \(\mathbf{x}\), velocity \(\mathbf{v}\), quaternion \(q\), unit normal
                  \(\mathbf{n}\), angular velocity \(\boldsymbol\omega\).</p>
                <p>Air: background \( \mathbf{u}_{\text{bg}}(\mathbf{x},t)\) and swirls \( \sum_i
                  \mathbf{u}_i(\mathbf{x},t)\). Relative air speed \(
                  \mathbf{v}_r=\mathbf{v}-\mathbf{u}(\mathbf{x},t)\), \(V=\|\mathbf{v}_r\|\),
                  \(\hat{\mathbf{v}}=\mathbf{v}_r/V\), angle \( \theta=\arccos(|\mathbf{n}\cdot\hat{\mathbf{v}}|)\).</p>
              </div>
            </div>
          </details>

          <!-- ========== AERODYNAMICS ========== -->
          <section class="copy">
            <div class="text">
              <h2>Aerodynamics</h2>
              <p>We approximate a leaf as a thin disk. Face-on to the wind it feels lots of push; edge-on it slices and
                feels less. We split the aerodynamic force into along-flow (drag) and normal (lift-ish) parts, and apply
                a small torque from the center-of-pressure being slightly off center.</p>
            </div>
            
          </section>

          <details class="filters mj" id="aero-forces-mj">
            <summary class="summary"><span>Show the math: forces on a leaf</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>Force model (relative flow \( \mathbf{v}_r\)):</p>
                $$\mathbf{F}_{\mathrm{aero}}
                = -\tfrac12\,\rho\,A\,V^2\!\left[
                C_D(\theta)\,\hat{\mathbf{v}}
                + C_N(\theta)\,\operatorname{sgn}\!\big(\mathbf{n}\!\cdot\!\hat{\mathbf{v}}\big)\,\mathbf{n}
                \right].$$
                <p>Angle-dependent coefficients (thin-disk inspired, smooth, cheap to compute):</p>
                $$C_D(\theta)=C_{d,\parallel}+\big(C_{d,\perp}-C_{d,\parallel}\big)\cos^2\!\theta,\qquad
                C_N(\theta)=C_{n,\max}\sin(2\theta).$$
                <p>This matches the implementation: \(C_D\) blends between parallel/perpendicular drag and
                  \(C_N\propto\sin(2\theta)\); sign comes from \(\mathbf{n}\cdot\hat{\mathbf{v}}\).
                </p>
              </div>
            </div>
          </details>

          <details class="filters mj" id="aero-moment-mj">
            <summary class="summary"><span>Show the math: aerodynamic moment</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>We offset the center of pressure a small fraction of the radius along the in-plane flow direction,
                  then take a cross product:</p>
                <ol>
                  <li>Express \(\hat{\mathbf{v}}\) in the leaf’s local frame via \(q^{-1}\), drop out-of-plane
                    component, normalize.</li>
                  <li>\(\mathbf{r}_{\text{local}} = -a_{\mathrm{CoP}}R\,\hat{\mathbf{v}}_{\parallel}\).</li>
                  <li>Rotate back to world: \(\mathbf{r} = q\,\mathbf{r}_{\text{local}}\).</li>
                  <li>\(\boldsymbol{M}_{\mathrm{aero}} = \mathbf{r}\times \mathbf{F}_{\mathrm{aero}}\).</li>
                </ol>
                <p>Exactly how the code builds the moment arm and moment.</p>
              </div>
            </div>
          </details>

          <!-- ========== MOTION / INTEGRATION ========== -->
          <section class="copy">
            <div class="text">
              <h2>Motion (time stepping)</h2>
              <p>For every leaf, forces update velocity; torques update spin. I use a small fixed time step and a
                symplectic Euler update so it behaves consistently across frame rates.</p>
            </div>
            
          </section>

          <details class="filters mj" id="integration-mj">
            <summary class="summary"><span>Show the math: symplectic Euler + quaternion update</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>Linear:</p>
                $$\mathbf{v}_{t+\Delta t}=\mathbf{v}_t+\frac{\mathbf{F}}{m}\Delta t,\qquad
                \mathbf{x}_{t+\Delta t}=\mathbf{x}_t+\mathbf{v}_{t+\Delta t}\Delta t.$$
                <p>Rotational (thin disk, scalar \(I\)):</p>
                $$\boldsymbol{\omega}_{t+\Delta t}=\boldsymbol{\omega}_t+\frac{\boldsymbol{M}}{I}\Delta t.$$
                <p>Quaternion advance via axis–angle with normalization:</p>
                $$q_{t+\Delta t}=\operatorname{normalize}\!\Big(\exp\!\big(\tfrac12\,\boldsymbol{\omega}_{t+\Delta
                t}\Delta t\big)\otimes q_t\Big).$$
                <p>This mirrors the code: velocity-first position update, angular step, premultiply quaternion, then
                  refresh the normal.</p>
              </div>
            </div>
          </details>

          <!-- ========== WIND FIELD ========== -->
          <section class="copy">
            <div class="text">
              <h2>The wind</h2>
              <p>The breeze is the sum of a gentle background that varies with height and time, plus short-lived swirls
                (little eddies) that ease in, drift, and ease out.</p>
            </div>
            
          </section>

          <details class="filters mj" id="wind-bg-mj">
            <summary class="summary"><span>Show the math: background breeze</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>I use a simple separable field along \(x\):</p>
                $$\mathbf{u}_{\text{bg}}(x,y,t)=\big[\,U\sin(2\pi\gamma\,y)\sin(2\pi\omega\,t),\,0,\,0\big].$$
                <p>That’s exactly what the background callback returns.</p>
              </div>
            </div>
          </details>

          <details class="filters mj" id="wind-swirl-mj">
            <summary class="summary"><span>Show the math: localized swirls</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>Each swirl is a Gaussian vortex around axis \(\hat{\mathbf{k}}\) with a smooth life envelope:</p>
                <p>Speed profile and direction:</p>
                $$\mathbf{u}_{\text{swirl}}(\mathbf{x})=U_0\,e^{-\tfrac12(r/R)^2}\,\hat{\mathbf{t}},\quad
                \hat{\mathbf{t}}=\hat{\mathbf{k}}\times\hat{\mathbf{r}}_{\perp}.$$
                <p>Envelope \( \ell(t)\in[0,1]\) rises and falls via a smoothstep-like polynomial, so swirls
                  appear/disappear without pops. That matches the implemented <code>flc2hs</code> and the swirl
                  <code>tick()</code>. 
                </p>
              </div>
            </div>
          </details>

          <!-- ========== SPAWNING & CULLING ========== -->
          <section class="copy">
            <div class="text">
              <h2>Spawning &amp; culling</h2>
              <p>I aim for a comfy number of leaves. When a leaf drifts outside a padded border, it fades out and
                respawns near the top. New leaves arrive via a Poisson process that scales with the current deficit.</p>
            </div>
            
          </section>

          <details class="filters mj" id="spawn-mj">
            <summary class="summary"><span>Show the math: spawn rate &amp; fade</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>Let \(N_{\max}\) be the target count and \(N\) current. Occupancy deficit
                  \(d=\max(0,N_{\max}-N)/N_{\max}\). Spawn intensity:</p>
                $$\lambda_{\text{eff}} = \lambda_0\,d,\qquad k\sim\text{Poisson}(\lambda_{\text{eff}}\Delta t).$$
                <p>Fade (discrete first-order):</p>
                $$\alpha_{t+\Delta t}=
                \begin{cases}
                \min(1,\ \alpha_t + s_{\text{in}}\Delta t),&\text{fade in}\\[2pt]
                \max(0,\ \alpha_t - s_{\text{out}}\Delta t),&\text{fade out}
                \end{cases}$$
                <p>This is exactly how the sim spawns/culls and steps \(\alpha\).
                </p>
              </div>
            </div>
          </details>

          <!-- ========== RANDOMNESS ========== -->
          <section class="copy">
            <div class="text">
              <h2>Randomness (but tasteful)</h2>
              <p>Randomized: initial position (with top-heavy respawns), orientation, mesh choice, color family, and
                swirl sizes/speeds/lifetimes. Enough variation to feel natural, without chaos.</p>
            </div>
            
          </section>

          <details class="filters mj" id="random-mj">
            <summary class="summary"><span>Show the math: distributions used</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <ul>
                  <li>Position: uniform within a padded rectangular domain; respawns biased to the top band. </li>
                  <li>Orientation: random unit vector for the normal; quaternion set from
                    \(\hat{\mathbf{z}}\to\mathbf{n}\).</li>
                  <li>Swirl \(R,U_0,\text{duration}\): linear interpolation between min/max with uniform \(u\in[0,1]\).
                    </li>
                  <li>Mesh &amp; palette: random pick from loaded GLBs and material banks. </li>
                </ul>
              </div>
            </div>
          </details>

          <!-- ========== RENDERING & LOOK ========== -->
          <section class="copy">
            <div class="text">
              <h2>Rendering &amp; look</h2>
              <p>Three.js scene with warm sunset lighting and exponential fog so the horizon melts into the page. Leaves
                are thin, double-sided, transparent materials with depth-write off to play nice in a crowd.</p>
            </div>
            
          </section>

          <details class="filters mj" id="render-mj">
            <summary class="summary"><span>Show the math: fog at a glance</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>Exponential fog roughly scales as \(e^{-\beta z}\) (I use <code>FogExp2</code>). That’s enough to
                  hint at depth without a heavy post-process.</p>
              </div>
            </div>
          </details>

          <!-- ========== CAMERA & UX ========== -->
          <section class="copy">
            <div class="text">
              <h2>Camera &amp; UX</h2>
              <p>The camera gently follows your scrolling: horizontal and vertical scrollers map to a pan window over
                the simulated space. Movement eases with a simple first-order lag, so it feels calm.</p>
            </div>
            
          </section>

          <details class="filters mj" id="camera-mj">
            <summary class="summary"><span>Show the math: scroll → camera &amp; damping</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>Scroll progress \(p_x,p_y\in[0,1]\) maps into a pan window
                  \([x_{\min},x_{\max}]\times[y_{\min},y_{\max}]\):</p>
                $$x_\star = x_{\text{base}} + s_x\,p_x\,(x_{\max}-x_{\min}),\quad
                y_\star = y_{\text{base}} + s_y\,p_y\,(y_{\max}-y_{\min}).$$
                <p>Damped follow (exact discrete form for a 1st-order system):</p>
                $$x_{t+\Delta t} = x_\star + (x_t-x_\star)\,e^{-\lambda\Delta t},\quad
                y_{t+\Delta t} = y_\star + (y_t-y_\star)\,e^{-\lambda\Delta t}.$$
                <p>Matches the <code>View</code> mapping and <code>THREE.MathUtils.damp</code> update used in
                  <code>syncCameraToScroll</code>.
                </p>
              </div>
            </div>
          </details>

          <!-- ========== DEBUG OVERLAYS (QUIVER & HUD) ========== -->
          <section class="copy">
            <div class="text">
              <h2>Debug overlays</h2>
              <p>Press <kbd>Q</kbd>/<kbd>H</kbd>/<kbd>Z</kbd> to toggle quiver heads/visibility and the HUD. The quiver
                is an instanced grid; the HUD prints live stats. (I keep these off by default so the first impression
                stays clean.)</p>
            </div>
            
          </section>

          <details class="filters mj" id="quiver-mj">
            <summary class="summary"><span>Show the math: quiver sampling</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>Uniform grid of \(n_x\times n_y\) points; at each base \(\mathbf{p}_{ij}\) the arrow length is \(
                  \min(L_{\max},\,s\|\mathbf{u}(\mathbf{p}_{ij})\|)\) and direction \(\hat{\mathbf{u}}\). Instances are
                  cylinders+cones oriented via the quaternion from a tilted \(\hat{\mathbf{y}}\) to
                  \(\hat{\mathbf{u}}\).</p>
              </div>
            </div>
          </details>

          <!-- ========== ARTWORK PIPELINE ========== -->
          <section class="copy">
            <div class="text">
              <h2>Artwork pipeline</h2>
              <p>Leaves start as SVGs. I triangulate them (ear-clipping), export OBJ/GLB, and load them once. Each
                spawned leaf instantiates shared geometry with a fresh material from a seasonal palette.</p>
            </div>
            
          </section>

          <details class="filters mj" id="art-mj">
            <summary class="summary"><span>Show the math: triangulation sketch</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>For a simple polygon \(P\), ear-clipping removes convex “ears” \( (v_{i-1},v_i,v_{i+1})\) that
                  contain no other vertices, producing triangles in \(O(n^2)\). That’s what my build script does before
                  writing the GLB.</p>
              </div>
            </div>
          </details>

          <!-- ========== PERFORMANCE NOTES ========== -->
          <section class="copy">
            <div class="text">
              <h2>Performance notes</h2>
              <p>Fixed physics step at 120 Hz with a frame-time accumulator and a cap on substeps; camera/pan updates
                honor reduced motion; charts are throttled. Materials share geometry and most textures; leaf fades avoid
                expensive object churn.</p>
            </div>
            
          </section>

          <details class="filters mj" id="perf-mj">
            <summary class="summary"><span>Show the math: fixed-step loop</span></summary>
            <div class="filters-panel">
              <div class="filter-container">
                <p>With step \( \Delta t \) and frame time \( \delta\), accumulate \(a\leftarrow a+\delta\); do
                  \(n=\min(\lfloor a/\Delta t\rfloor, N_{\max})\) substeps; \(a\leftarrow a-n\Delta t\). (See your 120
                  Hz step, 24 substep cap.)</p>
              </div>
            </div>
          </details>

          <!-- ========== CREDITS & STACK ========== -->
          <section class="copy">
            <div class="text">
              <h2>Credits &amp; stack</h2>
              <p>Three.js for rendering, ECharts for lightweight plots, MathJax for equations. Everything else—physics,
                wind field, camera mapping, artwork pipeline—is hand-rolled because that’s the fun part. 🙂</p>
            </div>
            
          </section>


          <h1>How does it work?</h1>

          <!-- EXACT same structure/styles as resume “filters” details -->
          <details class="filters mj" id="leaf-mj" open>
            <summary class="summary">
              <span>Show the math: forces &amp; moments on a leaf</span>
            </summary>

            <div class="filters-panel">
              <div class="filter-container">
                <p>
                  Relative air speed: \( \mathbf{v}_r = \mathbf{v} - \mathbf{u}(\mathbf{x},t) \),
                  \( V=\lVert \mathbf{v}_r\rVert \), \( \hat{\mathbf{v}}=\mathbf{v}_r/V \), leaf normal \( \mathbf{n}
                  \),
                  and angle \( \theta = \arccos\!\big(\lvert \mathbf{n}\!\cdot\!\hat{\mathbf{v}}\rvert\big) \).
                </p>

                <p>Aerodynamic force split into along-flow (drag) and normal (lift-like):</p>
                $$\mathbf{F}_{\mathrm{aero}}
                = -\tfrac12\,\rho\,A\,V^2\!\left[
                C_D(\theta)\,\hat{\mathbf{v}}
                + C_N(\theta)\,\operatorname{sgn}\!\big(\mathbf{n}\!\cdot\!\hat{\mathbf{v}}\big)\,\mathbf{n}
                \right]. \tag{1}$$
                $$\rho$$
                $$\boldsymbol{\rho}$$
              </div>
            </div>
          </details>

          <h2>
            Aerodynamics
          </h2>
          <p>First, we define the velocity of the air at each point in space and time.
            Call this function v_air(x,t).
            <br>
            Next, we model each leaf as a two-dimensional disk.
            Under this idealization, we can analytically compute the force and the moment that air exerts on each leaf.
            <br>
            Finally, from classical mechanics we can determine how each leaf will move based on these forces and moments
            by integrating Newton's second law over time.
          </p>

          <h2>
            Kinematics
          </h2>
          <p></p>

          <h2>
            Randomness
          </h2>

          <h3>
            Leaves
          </h3>

          <h3>
            Air
          </h3>

          <h2>
            View
          </h2>
          <p></p>
        </div>
      </div>
    </section>


  </div>

  <!-- Call the util AFTER the DOM exists; import via inline module -->
  <script type="module">
    import { copyElementNTimes } from './js/util.js';
    copyElementNTimes('repeated-text', 6, 'copies-target-1');
    copyElementNTimes('repeated-text', 3, 'copies-target-2');
    copyElementNTimes('repeated-text', 8, 'copies-target-3');
  </script>

  <script type="module">
    import '/js/leaf_sim/leaf_sim.js';
  </script>

  <!-- <script type="module">
    import katex from 'katex';
  </script> -->

  <script type="module">
    import { setupMathJax, typeset } from './js/mathjax-init.js';
    import { attachSmoothDisclosure } from './js/animations.js';

    await setupMathJax();

    const ctrls = [];

    // 1) Typeset + wire every math details block
    for (const d of document.querySelectorAll('details.filters.mj')) {
      await typeset(d);                 // lay out math so heights are accurate
      const ctl = attachSmoothDisclosure(d);
      if (ctl) { ctl.recalc(); ctrls.push(ctl); }
    }

    // 2) Still wire your main non-math filters panel (if present)
    const filters = document.getElementById('filters');
    if (filters) {
      const ctl = attachSmoothDisclosure(filters);
      if (ctl) { ctl.recalc(); ctrls.push(ctl); }
    }

    // 3) Keep layouts stable on resize
    addEventListener('resize', () => { for (const c of ctrls) c.recalc(); }, { passive: true });
  </script>


  <script>
    // Auto-show scrollbars on scroll/hover; hide after no activity
    (function attachAutoHide() {
      const AUTOHIDE_MS = 1000; // time to hide after last scroll/hover

      function wire(el, timeout = AUTOHIDE_MS) {
        if (!el) return;
        let hideId = 0;

        const show = () => {
          el.classList.add('scrollbars-visible');
          clearTimeout(hideId);
          hideId = setTimeout(() => el.classList.remove('scrollbars-visible'), timeout);
        };

        el.addEventListener('scroll', show, { passive: true });
        el.addEventListener('mouseenter', show);
        el.addEventListener('mouseleave', () => el.classList.remove('scrollbars-visible'));
        el.addEventListener('touchstart', show, { passive: true });
        el.addEventListener('touchend', () => {
          clearTimeout(hideId);
          hideId = setTimeout(() => el.classList.remove('scrollbars-visible'), timeout);
        }, { passive: true });

        // start hidden; reveal briefly so users discover it
        setTimeout(show, 50);
      }

      document.querySelectorAll('.scroller').forEach(el => wire(el));
    })();
  </script>

  <script type="module" src="./js/publications.js"></script>
  <!-- <script src="./js/publications.js" defer></script> -->


  <!-- ECharts debug overlay -->
  <div class="camera-position-plot hud-panel" id="cam-plot"></div>
  <div class="density-plot hud-panel" id="density-plot"></div>
</body>

<!-- SVG sprite sheet (hidden defs) -->
<svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
  <defs>
    <!-- GITHUB (normalized to 24×24; "contain" fit) -->
    <symbol id="icon-github" viewBox="0 0 24 24" fill="currentColor">
      <!-- Original was 98×96. We scale by s = min(24/98, 24/96) = 0.244898
       That makes width = 24 exactly; height = 23.510... so we center
       with a tiny vertical translate of (24-96*s)/2 = 0.244898 -->
      <g transform="translate(0 0.244898) scale(0.244898)">
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" />
      </g>
    </symbol>

    <!-- GOOGLE SCHOLAR -->
    <symbol id="icon-google-scholar" viewBox="0 0 24 24">
      <!-- Original was 48×48; scale by 0.5 to fit exactly -->
      <g transform="scale(0.5)">
        <path fill="currentColor" fill-rule="evenodd"
          d="M 24 4 C 12.954 4 4 12.954 4 24 C 4 35.046 12.954 44 24 44 C 35.046 44 44 35.046 44 24 C 44 12.954 35.046 4 24 4 z M 20.710938 11.087891 L 36.236328 11.087891 L 35.095703 12.039062 C 35.111223 12.090072 35.126953 12.140706 35.126953 12.197266 L 35.126953 17.289062 C 35.771239 17.518611 36.236328 18.128543 36.236328 18.851562 L 36.236328 23.841797 C 36.236328 24.761095 35.490456 25.503906 34.572266 25.503906 C 33.654076 25.503906 32.910156 24.761095 32.910156 23.841797 L 32.910156 18.851562 C 32.910156 18.128543 33.373292 17.518611 34.017578 17.289062 L 34.017578 12.9375 L 29.671875 16.558594 C 29.877024 17.289376 29.929688 18.167375 29.929688 19.244141 C 29.929688 23.316115 26.25 23.815577 26.25 25.548828 C 26.25 27.284296 31.134766 28.67024 31.134766 32.962891 C 31.134766 40.136529 22.572266 39.730469 22.572266 39.730469 C 22.572266 39.730469 15.166016 40.005489 15.166016 34.232422 C 15.166016 28.459357 23.567784 28.689453 23.998047 28.689453 C 23.893809 27.367615 23.037109 27.592296 23.037109 26.933594 L 23.037109 25.322266 C 23.037109 25.322266 16.894126 26.022323 16.701172 19.960938 L 10.730469 19.960938 L 20.710938 11.087891 z M 22.693359 14.431641 C 22.468978 14.42887 22.244252 14.456739 22.023438 14.519531 C 20.259137 15.017439 19.375131 17.490852 20.044922 20.054688 C 20.719149 22.610761 22.694683 24.289188 24.458984 23.789062 C 26.225502 23.291154 27.109244 20.814414 26.439453 18.253906 C 25.849504 16.014431 24.264032 14.451032 22.693359 14.431641 z M 23.193359 29.779297 C 20.230309 29.991102 17.946264 31.975344 18.09375 34.210938 C 18.23902 36.452075 20.762669 38.09715 23.724609 37.888672 C 26.689875 37.681303 28.973394 35.699543 28.828125 33.455078 C 28.681747 31.218375 26.159735 29.570819 23.193359 29.779297 z" />
      </g>
    </symbol>


  </defs>
</svg>





</html>